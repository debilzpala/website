<!DOCTYPE html>
<html lang="pl">
<head>
Â  <meta charset="UTF-8" />
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  <title>NeoNCraf â€“ Serwer Minecraft</title>
Â  <link href="https://fonts.cdnfonts.com/css/minecraft-4" rel="stylesheet">
Â  <style>
Â  Â  /* POPRAWKA FONTU: Wymuszenie czcionki 'Minecraft' dla wszystkich elementÃ³w */
Â  Â  *{
Â  Â  Â  Â  box-sizing:border-box;
Â  Â  Â  Â  margin:0;
Â  Â  Â  Â  padding:0;
Â  Â  Â  Â  font-family:'Minecraft', 'Inter', sans-serif !important;Â 
Â  Â  }

Â  Â  /* Reszta Twoich stylÃ³w CSS */
Â  Â  :root{--bg1:#1b1f3b;--bg2:#0a0d1a;--text:#fff;--card:rgba(255,255,255,.05)}body.light{--bg1:#f4f6ff;--bg2:#dfe3ff;--text:#000;--card:rgba(0,0,0,.05)}body{background:radial-gradient(circle at top,var(--bg1),var(--bg2));color:var(--text);line-height:1.6;overflow-x:hidden}canvas{position:fixed;inset:0;z-index:-1}header{min-height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center;text-align:center;padding:40px 20px}h1{font-size:clamp(3rem,6vw,5rem);font-weight:900;background:linear-gradient(90deg,#6cf,#9f6cff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;animation:float 3s ease-in-out infinite}@keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-10px)}}.btns{display:flex;gap:20px;flex-wrap:wrap;justify-content:center}.btn{padding:14px 28px;border-radius:14px;text-decoration:none;font-weight:600;transition:.25s;cursor:pointer}.btn:hover{transform:scale(1.08) rotate(-1deg);box-shadow:0 15px 40px rgba(0,0,0,.4)}.primary{background:linear-gradient(90deg,#6cf,#9f6cff);color:#000}.secondary{border:2px solid #6cf;color:#6cf}section{padding:80px 20px;max-width:1200px;margin:auto}.features{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:30px}.card{background:var(--card);border-radius:24px;padding:30px;backdrop-filter:blur(14px);transition:.25s}.card:hover{transform:translateY(-10px) scale(1.03)}.toggle{position:fixed;top:20px;right:20px;width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,#6cf,#9f6cff);display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:1.4rem;z-index:10}#langToggle{top:80px}.creeper{width:80px;height:80px;margin:40px auto 0;background:linear-gradient(#4caf50,#2e7d32);border-radius:12px;position:relative;animation:walk 3s ease-in-out infinite}.creeper:before,.creeper:after{content:'';position:absolute;background:#000}.creeper:before{width:14px;height:14px;left:18px;top:20px;box-shadow:30px 0 0 #000}.creeper:after{width:18px;height:28px;left:31px;top:40px}@keyframes walk{0%,100%{transform:translateX(0)}50%{transform:translateY(-10px)}}

/* FINALNA POPRAWKA PRELOADERA: UÅ¼ycie tylko opacity do pÅ‚ynnego zanikania */
#preloader{
Â  position:fixed;
Â  inset:0;
Â  background:#050816;
Â  display:flex;
Â  align-items:center;
Â  justify-content:center;
Â  z-index:999;
Â  font-size:1.2rem;
Â  opacity: 1;Â 
Â  transition: opacity 0.5s ease;Â 
}
#preloader.hidden {Â 
Â  opacity: 0 !important;
}
</style>
</head>
<body>
<div id="preloader"><div class="loader">Åadowanie Strony NeoNCraf...</div></div>
<canvas id="particles"></canvas>
<div id="themeToggle" class="toggle" onclick="toggleTheme()">ğŸŒ™</div>
<div id="langToggle" class="toggle" style="top:80px" onclick="toggleLang()">ğŸŒ</div>

<header>
Â  <div style="text-align:center;line-height:1.2">
Â Â  
Â  </div>
Â  <p data-pl="Nowoczesny serwer Minecraft nowej generacji." data-en="A modern next-generation Minecraft server.">
Â  Â  Nowoczesny serwer Minecraft nowej generacji.
Â  </div>
Â  Â  <h1 data-pl="NeoNCraf" data-en="NeoNCraf">NeoNCraf</h1>
Â  </div>
Â Â 
Â  </p>
<div class="btns">
Â  <a href="#" id="copyButton" class="btn primary">Skopiuj IP serwera</a>
Â  <a href="https://discord.gg/Ty9axmj8" target="_blank" class="btn secondary">Discord</a>
</div>
Â Â 
Â  <p class="ip">IP: <span id="ip">neoncraf_mc.aternos.me:34490</span></p>
</header>

<section>
Â  <div class="card" style="text-align:center; margin-bottom:40px">
Â  Â  <h3 data-pl="ğŸ“Š Status serwera" data-en="ğŸ“Š Server status">ğŸ“Š Status serwera</h3>
Â  Â  <p id="status">Sprawdzanie...</p>
Â  Â  <p data-pl="ğŸ‘¥ Gracze online:" data-en="ğŸ‘¥ Players online:">ğŸ‘¥ Gracze online:</p>
Â  Â  <p><span id="players">-</span></p>
Â  Â  <p id="percent">-</p>
Â  Â  <div class="creeper"></div>
Â  </div>
Â  </div>
Â  <div class="features">
Â  Â  <div class="card">
Â  Â  Â  <h3>âš¡ WydajnoÅ›Ä‡</h3>
Â  Â  Â  <p>Stabilny serwer, niski ping i brak lagÃ³w â€“ gramy pÅ‚ynnie 24/7.</p>
Â  Â  </div>
Â  Â  <div class="card">
Â  Â  Â  <h3>ğŸ§© Unikalne tryby</h3>
Â  Â  Â  <p>Autorskie systemy, eventy i mechaniki, ktÃ³rych nie znajdziesz nigdzie indziej.</p>
Â  Â  </div>
Â  Â  <div class="card">
Â  Â  Â  <h3>ğŸ‘¥ SpoÅ‚ecznoÅ›Ä‡</h3>
Â  Â  Â  <p>Aktywni gracze, pomocna administracja i Å›wietna atmosfera.</p>
Â  Â  </div>
Â  Â  <div class="card">
Â  Â  Â  <h3>ğŸ”’ BezpieczeÅ„stwo</h3>
Â  Â  Â  <p>Anty-cheat, backupy i ochrona danych graczy.</p>
Â  Â  </div>
Â  </div>
</section>

<footer>
Â  Â© 2025 NeoNCraf â€¢ Serwer Minecraft
</footer>

<script>
// --- GLOBALNE ZMIENNE I FUNKCJE ---

// Preloader
window.addEventListener('load', function() {
Â  Â  const p = document.getElementById('preloader');
Â  Â  if (p) {
Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  p.classList.add('hidden'); 
Â  Â  Â  Â  Â  Â  setTimeout(() => {
Â  Â  Â  Â  Â  Â  Â  Â  p.style.display = 'none';
Â  Â  Â  Â  Â  Â  }, 500);Â 
Â  Â  Â  Â  }, 3000);Â 
Â  Â  }
});

// Kopiowanie IP
window.addEventListener('load', function() {
Â  Â  const copyButton = document.getElementById('copyButton');
Â  Â  if (copyButton) {
Â  Â  Â  Â  copyButton.addEventListener('click', function(event) {
Â  Â  Â  Â  Â  Â  event.preventDefault();Â 
Â  Â  Â  Â  Â  Â  const ip = document.getElementById('ip').innerText;
Â  Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  Â  if (navigator.clipboard && window.isSecureContext) {
Â  Â  Â  Â  Â  Â  Â  Â  navigator.clipboard.writeText(ip)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .then(() => { alert('âœ… IP skopiowane: ' + ip); })
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  .catch(() => { fallbackCopy(ip); });
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  fallbackCopy(ip);
Â  Â  Â  Â  Â  Â  }

Â  Â  Â  Â  Â  Â  function fallbackCopy(text) {
Â  Â  Â  Â  Â  Â  Â  Â  const tempInput = document.createElement('textarea');
Â  Â  Â  Â  Â  Â  Â  Â  tempInput.value = text;
Â  Â  Â  Â  Â  Â  Â  Â  tempInput.style.position = 'fixed'; tempInput.style.opacity = '0';
Â  Â  Â  Â  Â  Â  Â  Â  document.body.appendChild(tempInput);
Â  Â  Â  Â  Â  Â  Â  Â  tempInput.select(); tempInput.setSelectionRange(0, 99999);
Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const successful = document.execCommand('copy');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (successful) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('âœ… IP Servera skopiowane, IP to: ' + text);Â 
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('âŒ Nie udaÅ‚o siÄ™ skopiowaÄ‡ IP. WciÅ›nij Ctrl+C/Cmd+C: ' + text);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  } catch (err) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  alert('âŒ BÅ‚Ä…d kopiowania. SprÃ³buj rÄ™cznie: ' + text);
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  document.body.removeChild(tempInput);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  }
});Â 

// PrzeÅ‚Ä…czanie motywu
function toggleTheme(){ document.body.classList.toggle('light'); }

// CzÄ…steczki (Particles)
const c=document.getElementById('particles'),x=c.getContext('2d');
function resize(){c.width=innerWidth;c.height=innerHeight} resize(); onresize=resize;
let p=Array.from({length:60},()=>({x:Math.random()*c.width,y:Math.random()*c.height,r:Math.random()*2+1,s:Math.random()+.2}));
function anim(){ x.clearRect(0,0,c.width,c.height); p.forEach(a=>{x.beginPath();x.arc(a.x,a.y,a.r,0,7);x.fillStyle='rgba(150,180,255,.6)';x.fill();a.y+=a.s;if(a.y>c.height)a.y=0}); requestAnimationFrame(anim)} anim();

// --- LOGIKA STATUSU SERWERA (OSTATECZNA LOGIKA MOTD/ATERNOS) ---
let lastStatus = undefined; // Przechowuje ostatni stan ('online', 'motd_offline', 'error_offline')

function fetchStatus(){
Â  console.log('Sprawdzanie statusu serwera (Ostateczna logika Aternos/MOTD)...');
Â  // UÅ¼ywamy API mcstatus.io
Â  fetch('https://api.mcstatus.io/v2/status/java/neoncraf_mc.aternos.me:34490')
Â  Â  .then(r => {
Â  Â  Â  if (!r.ok) {
Â  Â  Â  Â  console.error('BÅ‚Ä…d HTTP z mcstatus.io:', r.status, r.statusText);
Â  Â  Â  Â  throw new Error('BÅ‚Ä…d HTTP: ' + r.status);
Â  Â  Â  }
Â  Â  Â  return r.json();
Â  Â  })
Â  Â  .then(d=>{
Â  Â  Â  // Pobieranie motd - bezpieczne pobranie wszystkich linii i zÅ‚Ä…czenie
Â  Â  Â  const motdText = (d.motd?.clean ?? []).join(' ').toLowerCase();

Â  Â  Â  let statusDisplay;
Â  Â  Â  let currentStatus; 
Â  Â  Â  const onlinePlayers = d.players?.online ?? 0;
Â  Â  Â  const maxPlayers = d.players?.max ?? 0;

Â  Â  Â  // --- ğŸ¥‡ IMPLEMENTACJA USTALONEJ LOGIKI ---

Â  Â  Â  // 1. Priorytet 1: MOTD zawiera "offline" -> Wymuszenie OFFLINE (online: false)
Â  Â  Â  if (motdText.includes("offline")) {
Â  Â  Â  Â  Â  statusDisplay = 'ğŸŸ¢ ONLINE (Wymuszone komunikat.)';
Â  Â  Â  Â  Â  currentStatus = 'motd_offline';
Â  Â  Â  Â  Â  // Zerowanie graczy, aby uniknÄ…Ä‡ faÅ‚szywych danych przy wymuszonym statusie
Â  Â  Â  Â  Â  document.getElementById('players').innerText = '0 / 0';
Â  Â  Â  Â  Â  document.getElementById('percent').innerText = 'ğŸ“Š 0%';

Â  Â  Â  } 
Â  Â  Â  // 2. Priorytet 2 i 3: MOTD nie zawiera "offline" -> Wymuszenie ONLINE (online: true)
Â  Â  Â  else {
Â  Â  Â  Â  Â  // To obejmuje zarÃ³wno API online: true, jak i API online: false (WyjÄ…tek Aternos)
Â  Â  Â  Â  Â  statusDisplay = 'ğŸŸ¢ ONLINE';
Â  Â  Â  Â  Â  currentStatus = 'online';
Â  Â  Â  Â  Â Â 
Â  Â  Â  Â  Â  // Aktualizacja graczy (tylko w stanie ONLINE)
Â  Â  Â  Â  Â  document.getElementById('players').innerText = onlinePlayers + ' / ' + maxPlayers;
Â  Â  Â  Â  Â  document.getElementById('percent').innerText = maxPlayers ? ('ğŸ“Š ' + Math.round((onlinePlayers / maxPlayers) * 100) + '%') : '';
Â  Â  Â  }

Â  Â  Â  // Aktualizacja DOM statusu
Â  Â  Â  document.getElementById('status').innerText = statusDisplay;

Â  Â  Â  // Logika Webhooka: WysyÅ‚anie tylko przy ZMIANIE STANU
Â  Â  Â  if(lastStatus === undefined) {
Â  Â  Â  Â  lastStatus = currentStatus;
Â  Â  Â  Â  return;Â 
Â  Â  Â  }
Â  Â  Â Â 
Â  Â  Â  if(lastStatus !== currentStatus) {
Â  Â  Â  Â  if (currentStatus === 'online') {
Â  Â  Â  Â  Â  Â  sendDiscord('ğŸŸ¢ **NeoNCraf ONLINE**\nSerwer jest dostÄ™pny do gry (Status: API true LUB WyjÄ…tek Aternos).');
Â  Â  Â  Â  } else if (currentStatus === 'motd_offline') {
Â  Â  Â  Â  Â  Â  sendDiscord('ğŸŸ¡ **NeoNCraf OFFLINE (Komunikat)**\nStatus zostaÅ‚ zmieniony przez MOTD. Serwer w trakcie konserwacji/wyÅ‚Ä…czania.');
Â  Â  Â  Â  }
Â  Â  Â  Â  lastStatus = currentStatus; // Zapisz nowy stan
Â  Â  Â  }
Â  Â  })
Â  Â  .catch(e=>{
Â  Â  Â  console.error('BÅ‚Ä…d poÅ‚Ä…czenia z API (Prawdziwy OFF):', e);
Â  Â  Â  // JeÅ›li bÅ‚Ä…d, to znaczy, Å¼e serwer jest niedostÄ™pny lub API nie dziaÅ‚a (prawdziwy OFFLINE)
Â  Â  Â  const currentStatus = 'error_offline';
Â  Â  Â  document.getElementById('status').innerText='ğŸ”´ OFFLINE (BÅ‚Ä…d API)';Â 
Â  Â  Â Â 
Â  Â  Â  // WysyÅ‚amy webhooka tylko jeÅ›li ostatni znany stan to nie byÅ‚ offline
Â  Â  Â  if (lastStatus !== currentStatus && lastStatus !== undefined) {
Â  Â  Â  Â  Â  sendDiscord('ğŸ”´ **NeoNCraf OFFLINE (BÅ‚Ä…d)**\nSerwer jest niedostÄ™pny lub wystÄ…piÅ‚ bÅ‚Ä…d API.');
Â  Â  Â  }
Â  Â  Â  lastStatus = currentStatus;
Â  Â  Â  document.getElementById('players').innerText='-';
Â  Â  Â  document.getElementById('percent').innerText='';
Â  Â  });
}
fetchStatus();
// ZwiÄ™kszenie interwaÅ‚u do 5 sekund
setInterval(fetchStatus,5000);Â 

/**
Â * FUNKCJA sendDiscord
Â */
function sendDiscord(msg){
Â  // Twoj URL Discord Webhook
Â  const webhook = 'https://discordapp.com/api/webhooks/1450217665359642624/X9P7XIyJtZvQ7Ncqi0tn0_C3Qh4caj4S2gpB6Wm99lc4q8hZXgdEpkdD5wwoPz1jys6e';Â 
Â Â 
Â  if(webhook.includes('PASTE')) {
Â  Â  Â  console.warn('OSTRZEÅ»ENIE: Webhook nie jest ustawiony poprawnie (zawiera "PASTE"). Powiadomienia Discord nie bÄ™dÄ… wysyÅ‚ane.');
Â  Â  Â  return;
Â  }

Â  fetch(webhook, {
Â  Â  method: 'POST',
Â  Â  headers: { 'Content-Type': 'application/json' },
Â  Â  body: JSON.stringify({ content: msg })
Â  })
Â  .then(response => {
Â  Â  Â  if (!response.ok) {
Â  Â  Â  Â  Â  console.error('BÅ‚Ä…d wysyÅ‚ania webhooka. Status: ' + response.status);
Â  Â  Â  }
Â  })
Â  .catch(error => {
Â  Â  Â  console.error('BÅ‚Ä…d poÅ‚Ä…czenia webhooka (sieÄ‡):', error);
Â  });
}

// language
let lang = navigator.language && navigator.language.startsWith('pl') ? 'pl' : 'en';
function toggleLang(){
Â  lang = lang==='pl'?'en':'pl';
Â  applyLang();
}
function applyLang(){
Â  document.querySelectorAll('[data-pl]').forEach(e=>{
Â  Â  e.innerText = e.dataset[lang];
Â  });
}
applyLang();
</script>
</body>
</html>

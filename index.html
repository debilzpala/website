<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CheatosCraft – Minecraft Server</title>

<link href="https://fonts.cdnfonts.com/css/minecraft-4" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:'Minecraft','Inter',sans-serif}
body{
  background:radial-gradient(circle at top,#ff7a00,#000);
  color:#fff;
  overflow-x:hidden;
}

/* ===== HEADER ===== */
header{
  min-height:100vh;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  padding:30px;
}

h1{
  font-size:clamp(3rem,7vw,6rem);
  background:linear-gradient(90deg,#ff9900,#000);
  -webkit-background-clip:text;
  -webkit-text-fill-color:transparent;
  animation:float 3s ease-in-out infinite;
}

@keyframes float{
  0%,100%{transform:translateY(0)}
  50%{transform:translateY(-10px)}
}

.btns{display:flex;gap:15px;flex-wrap:wrap;margin:20px 0}
.btn{
  padding:14px 26px;
  border-radius:14px;
  text-decoration:none;
  font-weight:bold;
  cursor:pointer;
  transition:.25s;
}
.primary{background:linear-gradient(90deg,#ff9900,#ff7a00);color:#000}
.secondary{border:2px solid #ff9900;color:#ff9900}
.btn:hover{transform:scale(1.1)}

.ip{color:#ffb347}

/* ===== STATUS ===== */
#statusBox{
  margin-top:30px;
  background:rgba(255,255,255,.06);
  padding:25px;
  border-radius:22px;
  backdrop-filter:blur(14px);
  width:clamp(280px,90%,420px);
}

#serverIcon{width:64px;height:64px;margin-bottom:10px}

.white{color:#fff}

/* ===== TOAST ===== */
#toast{
  position:fixed;
  bottom:40px;
  left:50%;
  transform:translateX(-50%) scale(.9);
  background:#111;
  border:3px solid #3aff3a;
  padding:14px 24px;
  opacity:0;
  transition:.3s;
  z-index:9999;
}
#toast.show{opacity:1;transform:translateX(-50%) scale(1)}

footer{padding:30px;text-align:center;opacity:.6}

/* ===== CANVAS ===== */
#bg,#particles{position:fixed;inset:0;z-index:-1}
</style>
</head>

<body>

<canvas id="bg"></canvas>
<canvas id="particles"></canvas>

<header>
<p class="white">NOWOCZESNY SERWER MINECRAFT</p>
<h1>CheatosCraft</h1>

<div class="btns">
  <a href="#" id="copyBtn" class="btn primary">SKOPIUJ IP</a>
  <a href="https://discord.gg/XUVDHUM8" target="_blank" class="btn secondary">DISCORD</a>
</div>

<p class="ip">IP: <span id="ip">B6steak.aternos.me:13735</span></p>

<div id="statusBox">
  <img id="serverIcon" src="" alt="">
  <p id="status">Sprawdzanie...</p>
  <p>MOTD: <span id="motd">Ladowanie...</span></p>
  <p>Gracze: <span id="players">0 / 0</span></p>
  <p id="percent">0%</p>
</div>
</header>

<footer>© 2025 CheatosCraft</footer>

<div id="toast">IP skopiowane do schowka</div>

<script>
/* ===== COPY IP (100% DZIALA) ===== */
const copyBtn=document.getElementById("copyBtn");
const ip=document.getElementById("ip").innerText;
const toast=document.getElementById("toast");

copyBtn.onclick=e=>{
  e.preventDefault();
  const t=document.createElement("input");
  t.value=ip;
  document.body.appendChild(t);
  t.select();
  document.execCommand("copy");
  document.body.removeChild(t);
  toast.classList.add("show");
  setTimeout(()=>toast.classList.remove("show"),2500);
};

/* ===== BACKGROUND ===== */
const bg=document.getElementById("bg"),b=bg.getContext("2d");
function resize(){bg.width=innerWidth;bg.height=innerHeight}
resize();onresize=resize;
let clouds=Array.from({length:10},()=>({
  x:Math.random()*bg.width,
  y:Math.random()*bg.height/2,
  w:60+Math.random()*40,
  h:20+Math.random()*20,
  s:.2+Math.random()
}));
function drawBG(){
  const g=b.createLinearGradient(0,0,0,bg.height);
  g.addColorStop(0,"#ff7a00");
  g.addColorStop(1,"#000");
  b.fillStyle=g;b.fillRect(0,0,bg.width,bg.height);
  clouds.forEach(c=>{
    b.fillStyle="rgba(255,180,80,.6)";
    b.beginPath();
    b.ellipse(c.x,c.y,c.w,c.h,0,0,7);
    b.fill();
    c.x+=c.s;
    if(c.x>bg.width+50)c.x=-100;
  });
  requestAnimationFrame(drawBG);
}
drawBG();

/* ===== STATUS API ===== */
async function fetchStatus(){
try{
  const res=await fetch("https://TWOJ-DOMEN.up.railway.app/api/status?host=B6steak.aternos.me&port=13735");
  const d=await res.json();

  const motd=(d.motd||"").toLowerCase();
  const offlineMotd=motd.includes("offline");

  document.getElementById("status").innerText=
    d.online && !offlineMotd ? "ONLINE" : "OFFLINE";

  document.getElementById("players").innerText=
    `${d.onlinePlayers||0} / ${d.maxPlayers||0}`;

  document.getElementById("motd").innerText=d.motd||"Brak MOTD";

  document.getElementById("percent").innerText=
    d.maxPlayers?Math.round(d.onlinePlayers/d.maxPlayers*100)+"%":"0%";

  if(d.icon)document.getElementById("serverIcon").src=d.icon;
}catch(e){
  document.getElementById("status").innerText="OFFLINE";
}}
fetchStatus();
setInterval(fetchStatus,5000);
</script>

</body>
</html>
